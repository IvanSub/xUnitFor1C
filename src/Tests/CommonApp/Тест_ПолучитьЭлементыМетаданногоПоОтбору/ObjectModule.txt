Перем ЮТест;

Функция ПолучитьСписокТестов(ЮнитТестирование) Экспорт
	
	ЮТест = ЮнитТестирование;
	
	ВсеТесты = Новый Массив;
	
	ПараметрыТеста = ПолучитьОбъектыПроверки();
	ЮТест.ПроверитьЗаполненность(ПараметрыТеста, "ПараметрыТеста");
	ЮТест.ПроверитьТип(ПараметрыТеста, "Массив", "ПараметрыТеста параметр должен быть массив");
	
	Для Каждого Эл Из ПараметрыТеста Цикл
		ЮТест.ПроверитьВхождение(Эл, ".", ""+Эл+": искали разделитель точку");
		
		ОписаниеТеста = Новый Структура("ПредставлениеТеста, ИмяТеста,Транзакция,Параметр", "Чтение одной записи метаданного " + Эл, 
			"ТестДолжен_ПрочитатьОднуЗаписьМетаданного", Истина, Эл);
		ВсеТесты.Добавить(ОписаниеТеста);
	КонецЦикла;
	
	Возврат ВсеТесты;
	
КонецФункции

Процедура ТестДолжен_ПрочитатьОднуЗаписьМетаданного(Парам) Экспорт

	Мета = ЮТест.РазложитьСтрокуВМассивПодстрок(Парам, ".");
	Результат = ЮТест.ПолучитьЭлементыМетаданногоПоОтбору(Мета[0], Мета[1], 0);
	
КонецПроцедуры

Функция ПолучитьОбъектыПроверки()
	Рез = Новый Массив;
		
	//Если РольДоступна(Метаданные.Роли.Роль1) Тогда
		Рез.Добавить("Справочник.ПростойСправочник");
		Рез.Добавить("Справочник.ПростойСправочник2");
		Рез.Добавить("Справочник.ИерархическийСправочник");
		Рез.Добавить("Документ.Документ1");
	//КонецЕсли;
	Возврат Рез;
КонецФункции
